= Econome REST API Reference
Seongguk Jeong <seongguk.dev@gmail.com>
:description:
:doctype: book
:toc: left
:toclevels: 3
:sectlinks:
:sectanchors:
:url-repo: https://github.com/limvik/budget-management-service

image::https://user-images.githubusercontent.com/37972432/283320675-26624259-f239-477f-b230-79b227c2b081.png[econome,align="center"]

== 소개

개인의 예산 관리 기능을 제공하는 REST API 입니다. 경제를 의미하는 Economy 에서 개인에 특화된 서비스임을 나타내기 위해 ##EconoMe##로 이름을 지었습니다.

- https://github.com/limvik/budget-management-service[GitHub Repository]

== 시작하기

`POST /api/v1/users/signup` 에서 회원가입 후 `POST /api/v1/users/signin` 을 통해 로그인하여 인증이 필요한 endpoint 접근을 위한 access key와 refresh key를 얻을 수 있습니다.

== Errors

.Errors
[cols="1,1"]
|===
| 200(Ok)
| 예상한대로 동작한 경우

| 201(Created)
| 서버에 새로운 데이터를 저장한 경우

| 401(Unauthorized)
| 유효하지 않은 토큰 등을 이용하여 인증에 실패한 경우

| 404(Not Found)
| 존재하지 않는 자원 혹은 자신의 것이 아닌 자원을 요청한 경우

| 409(Conflict)
| 동일한 자원을 생성한 경우

| 422(Unprocessable Entity)
| 유효성 검사를 통과하지 못한 경우

| 500(Unprocessable Entity)
| 유효성 검사를 통과하지 못한 경우
|===

== 엔드포인트

=== 사용자

사용자와 관련된 요청을 수행합니다.

.Users Endpoints
[cols="1,1"]
|===
| 회원가입
| `POST /api/v1/users/signup`

| 로그인
| `POST /api/v1/users/signin`

| Access Token 갱신
| `POST /api/v1/users/token`
|===

==== 회원가입

`POST /api/v1/users/signup`

사용자의 회원가입을 수행하는 엔드포인트입니다.

operation::users-signup[snippets='request-fields,request-body,response-body,http-request,http-response']

===== Error Response

====== 중복된 사용자 이름 또는 이메일로 회원가입 요청한 경우

include::{snippets}/users-signup-conflict/http-response.adoc[]

====== 유효하지 않은 형식으로 입력하여 회원가입 요청한 경우

include::{snippets}/users-signup-unprocessable/http-response.adoc[]

==== 로그인

`POST /api/v1/users/signin`

회원가입한 사용자가 access token과 refresh token을 얻을 수 있는 엔드포인트 입니다.

operation::users-signin[snippets='request-fields,response-fields,request-body,response-body,http-request,http-response']

===== Error Response

====== 존재하지 않는 사용자 이름 또는 비밀번호가 일치하지 않는 경우

include::{snippets}/users-signin-unauthorized/http-response.adoc[]

====== 유효하지 않은 형식을 입력하여 로그인 요청한 경우

include::{snippets}/users-signin-unprocessable/http-response.adoc[]

==== AccessToken 갱신

`POST /api/v1/users/token`

로그인한 사용자의 Access Token이 만료된 경우, Refresh Token을 이용하여 Access Token을 재발급받을 수 있는 엔드포인트 입니다.

operation::users-token[snippets='request-headers,response-fields,request-body,response-body,http-request,http-response']

===== Error Response

====== 유효하지 않은 Refresh Token으로 요청하는 경우

- 기간만료, 형식오류, 만료되지 않은 과거 Refresh Token 등

include::{snippets}/users-token-invalid/http-response.adoc[]

=== 예산

==== 예산 설정

==== 예산 조회

==== 예산 수정

==== 예산 추천

=== 지출

==== 지출 생성

==== 지출 수정

==== 지출 조회

==== 지출 삭제

==== 지출 목록 조회

==== 오늘 지출 추천

==== 오늘의 지출 안내

==== 지출 통계